<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Helix\Http\Controllers\ImageController | API</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/sami.css">
        <script src="../../../js/jquery-1.11.1.min.js"></script>
        <script src="../../../js/bootstrap.min.js"></script>
        <script src="../../../js/typeahead.min.js"></script>
        <script src="../../../sami.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Helix_Http_Controllers_ImageController" data-root-path="../../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                                            <li><a href="../../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../Helix.html">Helix</a></li><li class="backslash">\</li><li><a href="../../../Helix/Http.html">Http</a></li><li class="backslash">\</li><li><a href="../../../Helix/Http/Controllers.html">Controllers</a></li><li class="backslash">\</li><li>ImageController</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            ImageController
                
        </h1>
    </div>

    <p>    class
    <strong>ImageController</strong>        extends <a href="../../../Helix/Http/Controllers/Controller.html"><abbr title="Helix\Http\Controllers\Controller">Controller</abbr></a>
</p>

        
    

            <div class="description">
            <p>This class handles the photo uploads for project banners. This closely
follows the same conventions as faculty. An issue that we ran into was the
caching of images on the server. The process is to save the image local to
the application, crop the image, give it a unique id, and then add it to the
CDN.</p>                                </div>
    
            <h2>Traits</h2>

        
    <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-6">
                                            <abbr title="Illuminate\Foundation\Auth\Access\AuthorizesRequests">AuthorizesRequests</abbr>
                                            
                </div>
                <div class="col-md-6">
                    
                </div>
            </div>
                    <div class="row">
                <div class="col-md-6">
                                            <abbr title="Illuminate\Foundation\Bus\DispatchesJobs">DispatchesJobs</abbr>
                                            
                </div>
                <div class="col-md-6">
                    
                </div>
            </div>
                    <div class="row">
                <div class="col-md-6">
                                            <abbr title="Illuminate\Foundation\Validation\ValidatesRequests">ValidatesRequests</abbr>
                                            
                </div>
                <div class="col-md-6">
                    
                </div>
            </div>
            </div>
    
    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_sendResponse">sendResponse</a>(mixed $data, string $type, array $metadata = NULL)
        
                                            <p>Structure of API response</p>                </div>
                <div class="col-md-2"><small>from&nbsp;<a href="../../../Helix/Http/Controllers/Controller.html#method_sendResponse"><abbr title="Helix\Http\Controllers\Controller">Controller</abbr></a></small></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_create">create</a>(string $projectId)
        
                                            <p>This displays the form to upload an image to a project.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_store">store</a>(string $projectId)
        
                                            <p>This will store the photo and save the file location in the database.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_crop">crop</a>(string $projectId)
        
                                            <p>This is the function that sets up the cropping. This will make sure that
the picture isn't hilariously large.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_postCrop">postCrop</a>(<abbr title="Illuminate\Http\Request">Request</abbr> $request)
        
                                            <p>Handles the image after the user has cropped it.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_destroy">destroy</a>(string $projectId)
        
                                            <p>See if there is an old image, and if there is, delete it.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_deleteOldTempImages">deleteOldTempImages</a>()
        
                                            <p>Deletes all temporary images from the filesystem that were created more
than five minutes before the current time.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getFacultyProfileImage">getFacultyProfileImage</a>(string $email)
        
                                            <p>Returns the faculty image.</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_sendResponse">
        <div class="location">in <a href="../../../Helix/Http/Controllers/Controller.html#method_sendResponse"><abbr title="Helix\Http\Controllers\Controller">Controller</abbr></a> at         line 28</div>
        <code>            protected        array
    <strong>sendResponse</strong>(mixed $data, string $type, array $metadata = NULL)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Structure of API response</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>mixed</td>
                <td>$data</td>
                <td>The data associated to response</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$type</td>
                <td>The data type associated to response</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$metadata</td>
                <td>Any metadata associated to response</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_create">
        <div class="location">at         line 33</div>
        <code>                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
    <strong>create</strong>(string $projectId)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>This displays the form to upload an image to a project.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$projectId</td>
                <td>The project id.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_store">
        <div class="location">at         line 45</div>
        <code>                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
    <strong>store</strong>(string $projectId)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>This will store the photo and save the file location in the database.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$projectId</td>
                <td>The project id</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_crop">
        <div class="location">at         line 93</div>
        <code>                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
    <strong>crop</strong>(string $projectId)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>This is the function that sets up the cropping. This will make sure that
the picture isn't hilariously large.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$projectId</td>
                <td>The project id</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_postCrop">
        <div class="location">at         line 118</div>
        <code>                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
    <strong>postCrop</strong>(<abbr title="Illuminate\Http\Request">Request</abbr> $request)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Handles the image after the user has cropped it.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Illuminate\Http\Request">Request</abbr></td>
                <td>$request</td>
                <td>The request from the crop page. This includes photo url and parameters from JCrop.</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_destroy">
        <div class="location">at         line 170</div>
        <code>                    <abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr>
    <strong>destroy</strong>(string $projectId)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>See if there is an old image, and if there is, delete it.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$projectId</td>
                <td>The project id</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Helix\Http\Controllers\Illuminate\Http\Response">Response</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_deleteOldTempImages">
        <div class="location">at         line 199</div>
        <code>                    void
    <strong>deleteOldTempImages</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Deletes all temporary images from the filesystem that were created more
than five minutes before the current time.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getFacultyProfileImage">
        <div class="location">at         line 225</div>
        <code>                    string
    <strong>getFacultyProfileImage</strong>(string $email)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Returns the faculty image.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$email</td>
                <td>The faculty member's email</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
